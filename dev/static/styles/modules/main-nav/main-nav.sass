=megaItem($h: 30)
    opacity: 0
    transform: translate3d(0, $h * -1px ,0)
    transition: all .5s cubic-bezier(.785,.135,.15,.86)
=megaItemView()
    opacity: 1
    transform: none
=delayLoop($start: 0.3)
    @for $i from 1 through 10
        &:nth-child(#{$i})
            transition-delay: ($start + $i * 0.05) * 1s

.header
    &__menu
        width: 100%
        +md-block()
            display: none
    &__menu-list
        display: flex
        justify-content: center
    &__menu-item
        &:not(:last-child)
            margin-right: 15px
    &__menu-link
        color: $black
        &:hover, &:focus, &--current
            font-weight: bold

.megamenu
    position: fixed
    right: 0
    left: 0
    top: 0
    z-index: 5
    min-height: 100vh
    background-color: rgba($accent, .85)
    backdrop-filter: blur(10px)
    padding-top: 150px
    transform: translate3d(0, -100%, 0)
    transition: transform .5s cubic-bezier(.785,.135,.15,.86)
    +xs-block()
        padding-top: 120px

    &.is-active
        transform: none
        .megamenu__second-item,
        .services-list__item,
        .megamenu__icon,
        .megamenu__btn
            +megaItemView()


    &__cols
        +row-flex()
        padding-top: 35px
        border-top: 1px solid rgba($white, .3)
    &__services-list
        +col()
        +size(12)
        margin-bottom: 45px

    &__footer
        +col()
        +size(12)
        display: flex
        justify-content: space-between

    &__second-list
        display: flex
    &__second-item
        +megaItem()
        +delayLoop(1)
        font-size: 22px
        line-height: 30px
        font-weight: bold
        &:not(:last-child)
            margin-right: 20px
    &__second-link
        color: $white
        &:hover, &:focus
            color: darken($white, 30%)


    &__social
        display: flex
        justify-content: space-between
        +sm-block()
            position: fixed
            bottom: 0
            right: 0
            left: 0
            flex-direction: row
            justify-content: center
            flex: 1
    &__icon
        +megaItem()
        +delayLoop(1)
        margin-left: 40px
        &:hover, &:focus
            svg
                fill: darken($white, 30%)

    &__social-icon
        height: 26px
        fill: $white


.services-list
    +row-flex()
    &__item
        +megaItem()
        +delayLoop()
        +col()
        +size(2)
        +size-md(4)
        font-size: 18px
        line-height: 24px
        font-weight: bold
        display: flex
        flex-direction: column
        +md-block()
            margin-bottom: 30px
    &__link
        color: $white
        display: inline-block
        height: 48px
        +md-block()
            height: auto
        &--empty
            opacity: .75
            pointer-events: none
        &:hover, &:focus
            color: darken($white, 30%)
    &__sublist
        margin-top: 20px
    &__subitem
        font-size: 14px
        line-height: 20px
        font-weight: 300
        &:not(:last-child)
            margin-bottom: 14px
    &__subitem-link
        color: $white
        &:hover, &:focus
            color: darken($white, 30%)

.sandwich
    display: none
    cursor: pointer
    height: 20px
    position: relative
    width: 32px
    margin-left: 30px
    +md-block()
        display: block
    &:hover, &:focus
        .sandwich__line
            background-color: $accent

    &.is
        &-active
            .sandwich__line
                &--top
                    top: 10px
                    transform: rotate(45deg)

                &--middle
                    opacity: 0

                &--bottom
                    top: 10px
                    transform: rotate(-45deg)

    &__line
        background-color: $main-font-color
        display: block
        height: 1px
        left: 0
        position: absolute
        transition: all linear .4s
        width: 100%

        &--top
            top: 0

        &--middle
            top: 9px

        &--bottom
            top: 18px